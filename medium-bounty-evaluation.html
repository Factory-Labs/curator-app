<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medium Bounty Evaluation - AI Assisted (Independent Thinking)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #fafafa;
            color: #1a1a1a;
        }
        
        .header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 20px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.1);
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            color: #1a1a1a;
        }
        
        .header-meta {
            display: flex;
            gap: 30px;
            font-size: 14px;
            color: #666;
        }
        
        .container {
            display: flex;
            height: calc(100vh - 120px);
        }
        
        .submission-panel {
            flex: 1;
            background: white;
            padding: 30px;
            overflow-y: auto;
            border-right: 1px solid #e5e5e5;
        }
        
        .ai-assistant-panel {
            width: 420px;
            background: #fafafa;
            padding: 25px;
            overflow-y: auto;
            border-left: 1px solid #e0e0e0;
        }
        
        .ai-assistant-panel.hidden {
            display: none;
        }
        
        .ai-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .ai-panel-header h2 {
            font-size: 16px;
            color: #666;
            font-weight: 600;
        }
        
        .ai-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .toggle-ai {
            background: #666;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            margin-left: 20px;
        }
        
        .toggle-ai:hover {
            background: #555;
        }
        
        .submission-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 20px;
        }
        
        .submission-meta h3 {
            font-size: 18px;
            margin-bottom: 4px;
        }
        
        .submission-meta p {
            font-size: 13px;
            color: #666;
        }
        
        .submission-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .stat {
            flex: 1;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
        }
        
        .submission-content {
            background: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .submission-content h4 {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
        }
        
        .entity-sample {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 10px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .entity-field {
            margin-bottom: 8px;
        }
        
        .field-label {
            font-weight: 600;
            color: #555;
        }
        
        .evaluation-section {
            margin-bottom: 30px;
        }
        
        .evaluation-section h3 {
            font-size: 18px;
            margin-bottom: 20px;
            color: #1a1a1a;
        }
        
        .criterion {
            background: white;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }
        
        .criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .criterion-name {
            font-weight: 600;
            font-size: 15px;
            color: #1a1a1a;
        }
        
        .criterion-description {
            font-size: 13px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .score-selector {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .score-option {
            flex: 1;
            padding: 12px;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }
        
        .score-option:hover {
            border-color: #7c3aed;
            background: #f8f9ff;
        }
        
        .score-option.selected {
            border-color: #7c3aed;
            background: #667eea;
            color: white;
        }
        
        .score-option.fail {
            border-color: #ef4444;
        }
        
        .score-option.fail.selected {
            background: #ef4444;
            border-color: #ef4444;
        }
        
        .score-number {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .score-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .score-multiplier {
            font-size: 12px;
            margin-top: 4px;
            opacity: 0.8;
        }
        
        .ai-evidence-box {
            background: #f8f9ff;
            border: 1px solid #e0e7ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .evidence-header {
            font-size: 12px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .ai-icon {
            width: 16px;
            height: 16px;
        }
        
        .evidence-list {
            list-style: none;
        }
        
        .evidence-item {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
            padding: 8px 0;
            border-bottom: 1px solid #e0e7ff;
        }
        
        .evidence-item:last-child {
            border-bottom: none;
        }
        
        .evidence-icon {
            display: inline-block;
            margin-right: 8px;
            font-weight: 600;
        }
        
        .evidence-item.positive .evidence-icon {
            color: #10b981;
        }
        
        .evidence-item.negative .evidence-icon {
            color: #ef4444;
        }
        
        .evidence-item.neutral .evidence-icon {
            color: #f59e0b;
        }
        
        .expand-evidence {
            background: none;
            border: none;
            color: #667eea;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 8px;
            padding: 0;
        }
        
        .expand-evidence:hover {
            text-decoration: underline;
        }
        
        .ai-alert {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .ai-alert.danger {
            background: #fee2e2;
            border-color: #ef4444;
        }
        
        .ai-alert.success {
            background: #d1fae5;
            border-color: #10b981;
        }
        
        .ai-alert-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .ai-alert-content {
            font-size: 12px;
            line-height: 1.5;
            color: #555;
        }
        
        .verification-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            font-size: 12px;
        }
        
        .verification-item.pass {
            border-left: 3px solid #10b981;
        }
        
        .verification-item.fail {
            border-left: 3px solid #ef4444;
        }
        
        .verification-item.warning {
            border-left: 3px solid #f59e0b;
        }
        
        .verification-label {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .verification-detail {
            color: #666;
            font-size: 11px;
        }
        
        .score-calculation {
            background: white;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .score-calculation h4 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #1a1a1a;
        }
        
        .calculation-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
        }
        
        .calculation-row:last-child {
            border-bottom: none;
            padding-top: 15px;
            font-weight: 700;
            font-size: 16px;
        }
        
        .payout-display {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
        }
        
        .payout-label {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .payout-amount {
            font-size: 32px;
            font-weight: 700;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding: 20px 30px;
            background: white;
            border-top: 1px solid #e5e5e5;
            position: sticky;
            bottom: 0;
        }
        
        .btn {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-accept {
            background: #7c3aed;
            color: white;
        }
        
        .btn-accept:hover {
            background: #6d28d9;
        }
        
        .btn-reject {
            background: #ef4444;
            color: white;
        }
        
        .btn-reject:hover {
            background: #dc2626;
        }
        
        .btn-draft {
            background: #f3f4f6;
            color: #666;
        }
        
        .btn-draft:hover {
            background: #e5e7eb;
        }
        
        .comparison-box {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .comparison-title {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            margin-bottom: 10px;
        }
        
        .comparison-text {
            font-size: 12px;
            color: #555;
            line-height: 1.5;
        }
        
        .section-divider {
            height: 2px;
            background: #e0e0e0;
            margin: 20px 0;
        }
        
        .show-after-scoring {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #e0e7ff;
        }
        
        .show-after-scoring.visible {
            display: block;
        }
        
        .comparison-highlight {
            background: #fef3c7;
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 12px;
            line-height: 1.5;
        }
        
        .comparison-highlight strong {
            color: #92400e;
        }
        
        .data-viewer-toggle {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }
        
        .data-viewer-toggle:hover {
            background: #5568d3;
        }
        
        .data-viewer-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }
        
        .data-viewer-modal.active {
            display: flex;
        }
        
        .data-viewer-content {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 1200px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .data-viewer-header {
            padding: 20px 30px;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .data-viewer-header h3 {
            font-size: 18px;
            color: #1a1a1a;
        }
        
        .data-viewer-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .close-viewer {
            background: #ef4444;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .close-viewer:hover {
            background: #dc2626;
        }
        
        .data-viewer-body {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        .entity-list {
            width: 300px;
            border-right: 1px solid #e5e5e5;
            overflow-y: auto;
            background: #fafafa;
        }
        
        .entity-list-item {
            padding: 15px 20px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .entity-list-item:hover {
            background: #f0f0f0;
        }
        
        .entity-list-item.active {
            background: #667eea;
            color: white;
        }
        
        .entity-list-item h4 {
            font-size: 14px;
            margin-bottom: 4px;
            font-weight: 600;
        }
        
        .entity-list-item p {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .entity-detail {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .entity-detail-header {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .entity-detail-header h3 {
            font-size: 20px;
            color: #1a1a1a;
            margin-bottom: 8px;
        }
        
        .entity-detail-meta {
            display: flex;
            gap: 20px;
            font-size: 13px;
            color: #666;
        }
        
        .field-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .field-item {
            background: #fafafa;
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #e0e0e0;
        }
        
        .field-item.mission-critical {
            border-left-color: #ef4444;
        }
        
        .field-item.core {
            border-left-color: #f59e0b;
        }
        
        .field-item.desirable {
            border-left-color: #3b82f6;
        }
        
        .field-item.optional {
            border-left-color: #9ca3af;
        }
        
        .field-item.empty {
            opacity: 0.5;
            background: #f9f9f9;
        }
        
        .field-tier-label {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        
        .field-tier-label.mission-critical {
            color: #ef4444;
        }
        
        .field-tier-label.core {
            color: #f59e0b;
        }
        
        .field-tier-label.desirable {
            color: #3b82f6;
        }
        
        .field-tier-label.optional {
            color: #9ca3af;
        }
        
        .field-name {
            font-weight: 600;
            font-size: 13px;
            color: #1a1a1a;
            margin-bottom: 6px;
        }
        
        .field-value {
            font-size: 14px;
            color: #555;
            line-height: 1.5;
        }
        
        .field-value.empty-value {
            font-style: italic;
            color: #999;
        }
        
        .search-box {
            padding: 15px 20px;
            border-bottom: 1px solid #e5e5e5;
            background: white;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
            font-size: 13px;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #7c3aed;
        }
        
        .entity-nav {
            display: flex;
            gap: 10px;
        }
        
        .nav-btn {
            background: #f3f4f6;
            color: #666;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .nav-btn:hover {
            background: #e5e7eb;
        }
        
        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .source-link {
            margin-top: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 8px;
            border-left: 3px solid #3b82f6;
        }
        
        .source-link-label {
            font-size: 12px;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 8px;
        }
        
        .source-link a {
            color: #3b82f6;
            text-decoration: none;
            font-size: 13px;
            word-break: break-all;
        }
        
        .source-link a:hover {
            text-decoration: underline;
        }
        
        .verification-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .verification-badge.verified {
            background: #d1fae5;
            color: #065f46;
        }
        
        .verification-badge.unverified {
            background: #fee2e2;
            color: #991b1b;
        }
    
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 72px;
            height: 100vh;
            background: white;
            border-right: 1px solid #e5e5e5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            gap: 20px;
            z-index: 100;
        }
        
        .sidebar-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
            color: #666;
            font-size: 20px;
        }
        
        .sidebar-icon:hover {
            background: #f5f5f5;
        }
        
        .sidebar-icon.active {
            background: #ede9fe;
            color: #7c3aed;
        }
        
        .main-wrapper {
            margin-left: 72px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header-left {
            flex: 1;
        }
        
        .header-subtitle {
            font-size: 14px;
            color: #666;
            margin-top: 4px;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .points-badge {
            background: #ede9fe;
            color: #7c3aed;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .points-icon {
            width: 16px;
            height: 16px;
            background: #7c3aed;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-icon">☰</div>
        <div class="sidebar-icon active">◎</div>
        <div class="sidebar-icon">◇</div>
    </div>
    
    <div class="main-wrapper">

    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <h1>Evaluate Medium Bounty Submission</h1>
            </div>
            <div class="header-right">
                <div class="points-badge">
                    <div class="points-icon">△</div>
                    3000
                </div>
                <div class="user-avatar"></div>
            </div>
        </div>
</div>
            </div>
            <div style="display: flex; gap: 12px;">
                <button class="data-viewer-toggle" onclick="openDataViewer()">
                    <svg width="18" height="18" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                    </svg>
                    View Submission Data
                </button>
                <button class="toggle-ai" onclick="toggleAIPanel()">
                    <span id="toggleText">Hide AI Assistant</span>
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="submission-panel">
            <div class="submission-header">
                <div class="avatar">SJ</div>
                <div class="submission-meta">
                    <h3>Sarah Johnson (@sarahj_data)</h3>
                    <p>Submitted: Nov 18, 2025 • Curator Level: Advanced • Previous bounties: 23 completed</p>
                </div>
            </div>

            <div class="submission-stats">
                <div class="stat">
                    <div class="stat-label">Entities Added</div>
                    <div class="stat-value">47</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Fields Completed</div>
                    <div class="stat-value">18/22</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Time Spent</div>
                    <div class="stat-value">~14h</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Sources Cited</div>
                    <div class="stat-value">12</div>
                </div>
            </div>

            <div class="submission-content">
                <h4>Sample Entity (1 of 47)</h4>
                <div class="entity-sample">
                    <div class="entity-field">
                        <span class="field-label">Podcast Name:</span> The Tim Ferriss Show
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Episode Title:</span> #712 — Kevin Kelly on Excellent Advice for Living
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Air Date:</span> March 15, 2023
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Participants:</span> Tim Ferriss (host), Kevin Kelly (guest)
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Duration:</span> 2h 14m
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Description:</span> Kevin Kelly, founding executive editor of Wired magazine, shares wisdom from his new book "Excellent Advice for Living." Discussion covers life philosophy, technology optimism, and practical wisdom accumulated over decades.
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Topics:</span> Life advice, technology, philosophy, creativity
                    </div>
                    <div class="entity-field">
                        <span class="field-label">Source:</span> https://tim.blog/2023/03/15/kevin-kelly/
                    </div>
                </div>
                <p style="font-size: 13px; color: #666; margin-top: 10px;">
                    <a href="#" style="color: #667eea;">View all 47 entities →</a>
                </p>
            </div>

            <div class="evaluation-section">
                <h3>Evaluation Criteria</h3>

                <div class="criterion">
                    <div class="criterion-header">
                        <span class="criterion-name">1. Accuracy</span>
                    </div>
                    <div class="criterion-description">
                        Data correctness, verified against sources
                    </div>
                    <div class="score-selector">
                        <div class="score-option fail" onclick="selectScore('accuracy', 0)">
                            <div class="score-number">0</div>
                            <div class="score-label">FAIL</div>
                            <div class="score-multiplier">Major errors</div>
                        </div>
                        <div class="score-option" onclick="selectScore('accuracy', 1)">
                            <div class="score-number">1</div>
                            <div class="score-label">Baseline</div>
                            <div class="score-multiplier">1.0x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('accuracy', 2)">
                            <div class="score-number">2</div>
                            <div class="score-label">Good</div>
                            <div class="score-multiplier">1.5x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('accuracy', 3)">
                            <div class="score-number">3</div>
                            <div class="score-label">Excellent</div>
                            <div class="score-multiplier">2.0x</div>
                        </div>
                    </div>
                    
                    <div class="ai-evidence-box">
                        <div class="evidence-header">
                            <svg class="ai-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"/>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                            </svg>
                            AI Evidence Analysis
                        </div>
                        <ul class="evidence-list">
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Cross-verified 15 random samples against original podcast sources
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                All episode titles, dates, and participant names match exactly
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Episode descriptions accurately reflect actual content
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                No factual errors detected in verification sample
                            </li>
                        </ul>
                    </div>
                    
                    <div class="show-after-scoring" id="accuracy-comparison">
                        <div class="comparison-highlight">
                            <strong>Context:</strong> You previously scored similar accuracy at <strong id="accuracy-past-score">—</strong> for submission #47 (podcast entities). That submission had similar verification rates but included 2 minor date errors.
                        </div>
                    </div>
                </div>

                <div class="criterion">
                    <div class="criterion-header">
                        <span class="criterion-name">2. Completeness</span>
                    </div>
                    <div class="criterion-description">
                        Field coverage (Mission Critical/Core/Desirable/Optional)
                    </div>
                    <div class="score-selector">
                        <div class="score-option fail" onclick="selectScore('completeness', 0)">
                            <div class="score-number">0</div>
                            <div class="score-label">FAIL</div>
                            <div class="score-multiplier">Missing core</div>
                        </div>
                        <div class="score-option" onclick="selectScore('completeness', 1)">
                            <div class="score-number">1</div>
                            <div class="score-label">Baseline</div>
                            <div class="score-multiplier">1.0x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('completeness', 2)">
                            <div class="score-number">2</div>
                            <div class="score-label">Good</div>
                            <div class="score-multiplier">1.5x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('completeness', 3)">
                            <div class="score-number">3</div>
                            <div class="score-label">Excellent</div>
                            <div class="score-multiplier">2.0x</div>
                        </div>
                    </div>
                    
                    <div class="ai-evidence-box">
                        <div class="evidence-header">
                            <svg class="ai-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"/>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                            </svg>
                            AI Evidence Analysis
                        </div>
                        <ul class="evidence-list">
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Mission Critical fields: 100% complete across all entities
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Core fields: 91% complete
                            </li>
                            <li class="evidence-item neutral">
                                <span class="evidence-icon">⚠</span>
                                Desirable fields: 67% complete (cover art at 43%, guest bios at 68%)
                            </li>
                            <li class="evidence-item neutral">
                                <span class="evidence-icon">⚠</span>
                                Optional fields: 34% complete
                            </li>
                        </ul>
                    </div>
                    
                    <div class="show-after-scoring" id="completeness-comparison">
                        <div class="comparison-highlight">
                            <strong>Context:</strong> Your past score of <strong id="completeness-past-score">—</strong> for submission #47 had 95% core field completion (vs. 91% here) but only 58% desirable fields (vs. 67% here).
                        </div>
                    </div>
                </div>

                <div class="criterion">
                    <div class="criterion-header">
                        <span class="criterion-name">3. Usefulness</span>
                    </div>
                    <div class="criterion-description">
                        Value-add, prevents duplicate/redundant work
                    </div>
                    <div class="score-selector">
                        <div class="score-option fail" onclick="selectScore('usefulness', 0)">
                            <div class="score-number">0</div>
                            <div class="score-label">FAIL</div>
                            <div class="score-multiplier">Duplicate</div>
                        </div>
                        <div class="score-option" onclick="selectScore('usefulness', 1)">
                            <div class="score-number">1</div>
                            <div class="score-label">Baseline</div>
                            <div class="score-multiplier">1.0x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('usefulness', 2)">
                            <div class="score-number">2</div>
                            <div class="score-label">Good</div>
                            <div class="score-multiplier">1.5x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('usefulness', 3)">
                            <div class="score-number">3</div>
                            <div class="score-label">Excellent</div>
                            <div class="score-multiplier">2.0x</div>
                        </div>
                    </div>
                    
                    <div class="ai-evidence-box">
                        <div class="evidence-header">
                            <svg class="ai-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"/>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                            </svg>
                            AI Evidence Analysis
                        </div>
                        <ul class="evidence-list">
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                46 of 47 entities (98%) are completely new to knowledge graph
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                1 existing entity enhanced with 7 additional fields
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Fills significant gap in tech interview podcast coverage
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                No redundant overlap with other submissions
                            </li>
                        </ul>
                    </div>
                    
                    <div class="show-after-scoring" id="usefulness-comparison">
                        <div class="comparison-highlight">
                            <strong>Context:</strong> Submission #47 that you scored <strong id="usefulness-past-score">—</strong> had 87% new entities (vs. 98% here) and enhanced 4 existing entities (vs. 1 here).
                        </div>
                    </div>
                </div>

                <div class="criterion">
                    <div class="criterion-header">
                        <span class="criterion-name">4. Skill</span>
                    </div>
                    <div class="criterion-description">
                        Expertise and methodology demonstrated
                    </div>
                    <div class="score-selector">
                        <div class="score-option fail" onclick="selectScore('skill', 0)">
                            <div class="score-number">0</div>
                            <div class="score-label">FAIL</div>
                            <div class="score-multiplier">Poor methodology</div>
                        </div>
                        <div class="score-option" onclick="selectScore('skill', 1)">
                            <div class="score-number">1</div>
                            <div class="score-label">Baseline</div>
                            <div class="score-multiplier">1.0x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('skill', 2)">
                            <div class="score-number">2</div>
                            <div class="score-label">Good</div>
                            <div class="score-multiplier">1.5x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('skill', 3)">
                            <div class="score-number">3</div>
                            <div class="score-label">Excellent</div>
                            <div class="score-multiplier">2.0x</div>
                        </div>
                    </div>
                    
                    <div class="ai-evidence-box">
                        <div class="evidence-header">
                            <svg class="ai-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"/>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                            </svg>
                            AI Evidence Analysis
                        </div>
                        <ul class="evidence-list">
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Consistent citation format across all submissions
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Systematic approach to data entry and structure
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Episode descriptions demonstrate domain knowledge
                            </li>
                            <li class="evidence-item neutral">
                                <span class="evidence-icon">⚠</span>
                                Guest research could be deeper (68% have bios)
                            </li>
                            <li class="evidence-item neutral">
                                <span class="evidence-icon">⚠</span>
                                Topic tagging is functional but not comprehensive
                            </li>
                        </ul>
                    </div>
                    
                    <div class="show-after-scoring" id="skill-comparison">
                        <div class="comparison-highlight">
                            <strong>Context:</strong> Submission #47 scored <strong id="skill-past-score">—</strong> showed similar systematic approach but had more comprehensive topic tagging (avg 6.2 tags vs. 4.1 here).
                        </div>
                    </div>
                </div>

                <div class="criterion">
                    <div class="criterion-header">
                        <span class="criterion-name">5. Effort</span>
                    </div>
                    <div class="criterion-description">
                        Work intensity and thoroughness
                    </div>
                    <div class="score-selector">
                        <div class="score-option fail" onclick="selectScore('effort', 0)">
                            <div class="score-number">0</div>
                            <div class="score-label">FAIL</div>
                            <div class="score-multiplier">Rushed</div>
                        </div>
                        <div class="score-option" onclick="selectScore('effort', 1)">
                            <div class="score-number">1</div>
                            <div class="score-label">Baseline</div>
                            <div class="score-multiplier">1.0x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('effort', 2)">
                            <div class="score-number">2</div>
                            <div class="score-label">Good</div>
                            <div class="score-multiplier">1.5x</div>
                        </div>
                        <div class="score-option" onclick="selectScore('effort', 3)">
                            <div class="score-number">3</div>
                            <div class="score-label">Excellent</div>
                            <div class="score-multiplier">2.0x</div>
                        </div>
                    </div>
                    
                    <div class="ai-evidence-box">
                        <div class="evidence-header">
                            <svg class="ai-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 7H7v6h6V7z"/>
                                <path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/>
                            </svg>
                            AI Evidence Analysis
                        </div>
                        <ul class="evidence-list">
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                ~14 hours reported for 47 entities (~18 min/entity)
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Time estimate aligns with field complexity
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Descriptions suggest actually listening to episodes
                            </li>
                            <li class="evidence-item positive">
                                <span class="evidence-icon">✓</span>
                                Consistent quality indicates sustained attention
                            </li>
                        </ul>
                    </div>
                    
                    <div class="show-after-scoring" id="effort-comparison">
                        <div class="comparison-highlight">
                            <strong>Context:</strong> Submission #47 scored <strong id="effort-past-score">—</strong> reported 18 hours for 52 entities (~21 min/entity) with similar field complexity.
                        </div>
                    </div>
                </div>
            </div>

            <div class="score-calculation">
                <h4>Score Calculation</h4>
                <div class="calculation-row">
                    <span>Accuracy</span>
                    <span id="calc-accuracy">Not scored</span>
                </div>
                <div class="calculation-row">
                    <span>Completeness</span>
                    <span id="calc-completeness">Not scored</span>
                </div>
                <div class="calculation-row">
                    <span>Usefulness</span>
                    <span id="calc-usefulness">Not scored</span>
                </div>
                <div class="calculation-row">
                    <span>Skill</span>
                    <span id="calc-skill">Not scored</span>
                </div>
                <div class="calculation-row">
                    <span>Effort</span>
                    <span id="calc-effort">Not scored</span>
                </div>
                <div class="calculation-row">
                    <span>Total Score</span>
                    <span id="calc-total">0.0</span>
                </div>
            </div>

            <div class="payout-display">
                <div class="payout-label">Projected Payout</div>
                <div class="payout-amount" id="payout-amount">0 points</div>
                <div class="payout-label" style="margin-top: 8px; font-size: 11px;">
                    Range: 5,000 - 50,000 points
                </div>
            </div>
        </div>

        <div class="ai-assistant-panel" id="aiPanel">
            <div class="ai-panel-header">
                <h2>AI ASSISTANT</h2>
                <span class="ai-badge">CLAUDE SONNET 4.5</span>
            </div>

            <div class="ai-alert success">
                <div class="ai-alert-title">
                    ✓ No Critical Issues Detected
                </div>
                <div class="ai-alert-content">
                    All pass/fail criteria met. No automatic disqualifications found.
                </div>
            </div>

            <div class="section-divider"></div>

            <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1a1a1a;">
                Automated Verifications
            </h3>

            <div class="verification-item pass">
                <div class="verification-label">✓ Duplicate Detection</div>
                <div class="verification-detail">46 of 47 entities are unique. 1 entity enhances existing data with 7 new fields.</div>
            </div>

            <div class="verification-item pass">
                <div class="verification-label">✓ Source Verification</div>
                <div class="verification-detail">All 12 cited sources are live and accessible. Verified against original podcast feeds.</div>
            </div>

            <div class="verification-item pass">
                <div class="verification-label">✓ AI Content Detection</div>
                <div class="verification-detail">Low probability (12%) of AI-generated content. Descriptions show personal voice.</div>
            </div>

            <div class="verification-item pass">
                <div class="verification-label">✓ Field Coverage</div>
                <div class="verification-detail">Mission Critical: 100% • Core: 91% • Desirable: 67% • Optional: 34%</div>
            </div>

            <div class="section-divider"></div>

            <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1a1a1a;">
                Historical Context
            </h3>

            <div class="comparison-box">
                <div class="comparison-title">Your Similar Past Evaluation</div>
                <div class="comparison-text">
                    Submission #47: Podcast entities, 52 episodes
                    <br><br>
                    <strong>Your scores:</strong> Accuracy: 3, Completeness: 2, Usefulness: 2, Skill: 2, Effort: 2
                    <br>
                    <strong>Final payout:</strong> 32,500 points
                    <br><br>
                    <em>Note: Specific comparison details will appear below each criterion after you score it.</em>
                </div>
            </div>

            <div class="comparison-box">
                <div class="comparison-title">Curator Track Record</div>
                <div class="comparison-text">
                    Sarah Johnson has completed 23 previous bounties:
                    <br><br>
                    • Average accuracy: 2.8/3
                    <br>
                    • Zero failed submissions
                    <br>
                    • 96% on-time delivery
                    <br>
                    • Specialty: Podcast & media entities
                </div>
            </div>

            <div class="section-divider"></div>

            <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1a1a1a;">
                Additional Context
            </h3>

            <div class="comparison-box">
                <div class="comparison-title">Workload Analysis</div>
                <div class="comparison-text">
                    <strong>Estimated effort for this complexity:</strong>
                    <br>
                    • Research: 12-15 min/episode
                    <br>
                    • Data entry: 5-8 min/episode
                    <br>
                    • Verification: ~1.5 hours
                    <br>
                    • Total estimate: 12-16 hours
                    <br><br>
                    <strong>Reported time:</strong> ~14 hours
                    <br>
                    (Within expected range)
                </div>
            </div>
        </div>
    </div>

    <div class="data-viewer-modal" id="dataViewerModal">
        <div class="data-viewer-content">
            <div class="data-viewer-header">
                <h3>Submission Data Browser</h3>
                <div class="data-viewer-controls">
                    <div class="entity-nav">
                        <button class="nav-btn" id="prevEntity" onclick="navigateEntity(-1)">← Previous</button>
                        <span style="font-size: 13px; color: #666; padding: 0 10px;">
                            Entity <span id="currentEntityNum">1</span> of <span id="totalEntities">47</span>
                        </span>
                        <button class="nav-btn" id="nextEntity" onclick="navigateEntity(1)">Next →</button>
                    </div>
                    <button class="close-viewer" onclick="closeDataViewer()">Close</button>
                </div>
            </div>
            
            <div class="data-viewer-body">
                <div class="entity-list">
                    <div class="search-box">
                        <input type="text" placeholder="Search entities..." onkeyup="filterEntities(this.value)">
                    </div>
                    <div id="entityListContainer">
                        <!-- Entity list items will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="entity-detail">
                    <div class="entity-detail-header">
                        <h3 id="entityTitle">Select an entity to view details</h3>
                        <div class="entity-detail-meta">
                            <span id="entityMeta"></span>
                        </div>
                    </div>
                    
                    <div class="field-grid" id="fieldGrid">
                        <!-- Field items will be populated by JavaScript -->
                    </div>
                    
                    <div class="source-link" id="sourceLink" style="display: none;">
                        <div class="source-link-label">Source Reference</div>
                        <a href="#" target="_blank" id="sourceUrl"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="action-buttons">
        <button class="btn btn-draft">Save Draft</button>
        <button class="btn btn-reject">Reject Submission</button>
        <button class="btn btn-accept" onclick="showAcceptConfirmation()">Accept & Finalize</button>
    </div>

    <script>
        let scores = {
            accuracy: null,
            completeness: null,
            usefulness: null,
            skill: null,
            effort: null
        };

        const multipliers = {
            0: 0,
            1: 1.0,
            2: 1.5,
            3: 2.0
        };
        
        const pastScores = {
            accuracy: 3,
            completeness: 2,
            usefulness: 2,
            skill: 2,
            effort: 2
        };

        function selectScore(criterion, score) {
            scores[criterion] = score;
            
            // Update UI
            const options = document.querySelectorAll(`[onclick*="${criterion}"]`);
            options.forEach(opt => opt.classList.remove('selected'));
            event.target.closest('.score-option').classList.add('selected');
            
            // Show comparison after scoring
            const comparisonBox = document.getElementById(`${criterion}-comparison`);
            if (comparisonBox) {
                comparisonBox.classList.add('visible');
                const pastScoreSpan = document.getElementById(`${criterion}-past-score`);
                if (pastScoreSpan) {
                    pastScoreSpan.textContent = pastScores[criterion];
                }
            }
            
            updateCalculation();
        }

        function updateCalculation() {
            const minPayout = 5000;
            const maxPayout = 50000;
            
            let total = 0;
            let allScored = true;
            let anyFail = false;

            for (const [criterion, score] of Object.entries(scores)) {
                if (score === null) {
                    allScored = false;
                    document.getElementById(`calc-${criterion}`).textContent = 'Not scored';
                } else {
                    const mult = multipliers[score];
                    if (score === 0) anyFail = true;
                    total += mult;
                    document.getElementById(`calc-${criterion}`).textContent = 
                        `${score} (${mult.toFixed(1)}x) = ${mult.toFixed(1)}`;
                }
            }

            document.getElementById('calc-total').textContent = total.toFixed(1);

            if (anyFail) {
                document.getElementById('payout-amount').textContent = '0 points (FAILED)';
                document.getElementById('payout-amount').style.background = 
                    'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
            } else if (allScored) {
                // Scale payout based on score (5.0 = min, 10.0 = max)
                const scaledPayout = minPayout + ((total - 5.0) / 5.0) * (maxPayout - minPayout);
                const finalPayout = Math.max(minPayout, Math.min(maxPayout, Math.round(scaledPayout)));
                document.getElementById('payout-amount').textContent = 
                    `${finalPayout.toLocaleString()} points`;
                document.getElementById('payout-amount').style.background = 
                    'linear-gradient(135deg, #10b981 0%, #059669 100%)';
            } else {
                document.getElementById('payout-amount').textContent = '0 points';
                document.getElementById('payout-amount').style.background = 
                    'linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)';
            }
        }

        function toggleAIPanel() {
            const panel = document.getElementById('aiPanel');
            const toggleText = document.getElementById('toggleText');
            
            if (panel.classList.contains('hidden')) {
                panel.classList.remove('hidden');
                toggleText.textContent = 'Hide AI Assistant';
            } else {
                panel.classList.add('hidden');
                toggleText.textContent = 'Show AI Assistant';
            }
        }

        function showAcceptConfirmation() {
            let allScored = Object.values(scores).every(s => s !== null);
            
            if (!allScored) {
                alert('Please score all criteria before finalizing.');
                return;
            }

            const total = Object.values(scores).reduce((sum, score) => sum + multipliers[score], 0);
            const minPayout = 5000;
            const maxPayout = 50000;
            const scaledPayout = minPayout + ((total - 5.0) / 5.0) * (maxPayout - minPayout);
            const finalPayout = Math.max(minPayout, Math.min(maxPayout, Math.round(scaledPayout)));

            if (confirm(`Accept this submission and pay ${finalPayout.toLocaleString()} points to Sarah Johnson?`)) {
                alert('Submission accepted! Payout processed.');
            }
        }
        
        // Data Viewer Functionality
        const sampleEntities = [
            {
                id: 1,
                podcastName: "The Tim Ferriss Show",
                episodeTitle: "#712 — Kevin Kelly on Excellent Advice for Living",
                airDate: "March 15, 2023",
                participants: "Tim Ferriss (host), Kevin Kelly (guest)",
                duration: "2h 14m",
                description: "Kevin Kelly, founding executive editor of Wired magazine, shares wisdom from his new book 'Excellent Advice for Living.' Discussion covers life philosophy, technology optimism, and practical wisdom accumulated over decades.",
                topics: "Life advice, technology, philosophy, creativity",
                source: "https://tim.blog/2023/03/15/kevin-kelly/",
                guestBio: "Kevin Kelly is founding executive editor of Wired magazine and author of multiple books on technology and culture.",
                coverArt: "https://example.com/cover.jpg",
                sponsors: "",
                relatedEpisodes: ""
            },
            {
                id: 2,
                podcastName: "Lex Fridman Podcast",
                episodeTitle: "#371 — Max Tegmark: Life 3.0",
                airDate: "March 22, 2023",
                participants: "Lex Fridman (host), Max Tegmark (guest)",
                duration: "3h 2m",
                description: "Max Tegmark is a physicist and AI researcher at MIT. Discussion about artificial intelligence, consciousness, the future of humanity, and existential risk.",
                topics: "AI, physics, consciousness, existential risk",
                source: "https://lexfridman.com/max-tegmark-2/",
                guestBio: "Max Tegmark is a physicist, cosmologist, and machine learning researcher at MIT.",
                coverArt: "",
                sponsors: "Eight Sleep, ExpressVPN",
                relatedEpisodes: ""
            },
            {
                id: 3,
                podcastName: "The Knowledge Project",
                episodeTitle: "#153 — Annie Duke: Thinking in Bets",
                airDate: "February 10, 2023",
                participants: "Shane Parrish (host), Annie Duke (guest)",
                duration: "1h 38m",
                description: "Annie Duke discusses decision-making under uncertainty, probabilistic thinking, and how to improve judgment by thinking in bets rather than absolutes.",
                topics: "Decision-making, probability, poker, cognitive bias",
                source: "https://fs.blog/knowledge-project-podcast/annie-duke/",
                guestBio: "",
                coverArt: "",
                sponsors: "",
                relatedEpisodes: ""
            },
            {
                id: 4,
                podcastName: "How I Built This",
                episodeTitle: "Airbnb: Joe Gebbia",
                airDate: "January 18, 2023",
                participants: "Guy Raz (host), Joe Gebbia (guest)",
                duration: "1h 12m",
                description: "Airbnb co-founder Joe Gebbia shares the story of how three roommates turned air mattresses in their apartment into a global hospitality empire worth billions.",
                topics: "Entrepreneurship, startups, design thinking, hospitality",
                source: "https://www.npr.org/how-i-built-this/joe-gebbia",
                guestBio: "Joe Gebbia is co-founder and former CPO of Airbnb, designer and entrepreneur.",
                coverArt: "https://example.com/hibt-cover.jpg",
                sponsors: "",
                relatedEpisodes: ""
            },
            {
                id: 5,
                podcastName: "The Tim Ferriss Show",
                episodeTitle: "#650 — Jim Collins: The Art of Being Unreasonable",
                airDate: "October 12, 2022",
                participants: "Tim Ferriss (host), Jim Collins (guest)",
                duration: "2h 45m",
                description: "Jim Collins, author of Good to Great and Built to Last, discusses leadership principles, research methodology, and his approach to understanding what makes great companies.",
                topics: "Leadership, business strategy, research, management",
                source: "https://tim.blog/2022/10/12/jim-collins/",
                guestBio: "Jim Collins is a business consultant, author, and lecturer on company growth and sustainability.",
                coverArt: "https://example.com/tim-cover.jpg",
                sponsors: "",
                relatedEpisodes: "#650, #361"
            }
        ];
        
        // Generate remaining entities
        for (let i = 6; i <= 47; i++) {
            sampleEntities.push({
                id: i,
                podcastName: `Sample Podcast ${Math.floor(Math.random() * 10) + 1}`,
                episodeTitle: `Episode ${i}: Sample Title`,
                airDate: `2023-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`,
                participants: `Host ${Math.floor(Math.random() * 5) + 1}, Guest ${Math.floor(Math.random() * 10) + 1}`,
                duration: `${Math.floor(Math.random() * 3) + 1}h ${Math.floor(Math.random() * 60)}m`,
                description: `This is a sample description for entity ${i}. Content discusses various topics related to the episode theme.`,
                topics: "Technology, Business, Innovation",
                source: `https://example.com/episode-${i}`,
                guestBio: Math.random() > 0.4 ? `Guest bio for episode ${i}` : "",
                coverArt: Math.random() > 0.5 ? `https://example.com/cover-${i}.jpg` : "",
                sponsors: Math.random() > 0.7 ? "Sponsor A, Sponsor B" : "",
                relatedEpisodes: Math.random() > 0.8 ? `#${i-10}, #${i-5}` : ""
            });
        }
        
        let currentEntityIndex = 0;
        
        function openDataViewer() {
            document.getElementById('dataViewerModal').classList.add('active');
            populateEntityList();
            if (sampleEntities.length > 0) {
                showEntity(0);
            }
        }
        
        function closeDataViewer() {
            document.getElementById('dataViewerModal').classList.remove('active');
        }
        
        function populateEntityList() {
            const container = document.getElementById('entityListContainer');
            container.innerHTML = '';
            
            sampleEntities.forEach((entity, index) => {
                const item = document.createElement('div');
                item.className = 'entity-list-item';
                if (index === currentEntityIndex) {
                    item.classList.add('active');
                }
                item.onclick = () => showEntity(index);
                item.innerHTML = `
                    <h4>${entity.podcastName}</h4>
                    <p>${entity.episodeTitle}</p>
                `;
                container.appendChild(item);
            });
        }
        
        function showEntity(index) {
            currentEntityIndex = index;
            const entity = sampleEntities[index];
            
            // Update header
            document.getElementById('entityTitle').textContent = entity.podcastName;
            document.getElementById('entityMeta').innerHTML = `
                <span><strong>Episode:</strong> ${entity.episodeTitle}</span>
                <span><strong>Air Date:</strong> ${entity.airDate}</span>
            `;
            
            // Update navigation
            document.getElementById('currentEntityNum').textContent = index + 1;
            document.getElementById('totalEntities').textContent = sampleEntities.length;
            document.getElementById('prevEntity').disabled = index === 0;
            document.getElementById('nextEntity').disabled = index === sampleEntities.length - 1;
            
            // Define field structure with tiers
            const fields = [
                { name: "Podcast Name", value: entity.podcastName, tier: "mission-critical" },
                { name: "Episode Title", value: entity.episodeTitle, tier: "mission-critical" },
                { name: "Air Date", value: entity.airDate, tier: "mission-critical" },
                { name: "Participants", value: entity.participants, tier: "mission-critical" },
                { name: "Duration", value: entity.duration, tier: "core" },
                { name: "Description", value: entity.description, tier: "core" },
                { name: "Topics", value: entity.topics, tier: "core" },
                { name: "Source", value: entity.source, tier: "core" },
                { name: "Guest Bio", value: entity.guestBio, tier: "desirable" },
                { name: "Cover Art", value: entity.coverArt, tier: "desirable" },
                { name: "Sponsors", value: entity.sponsors, tier: "optional" },
                { name: "Related Episodes", value: entity.relatedEpisodes, tier: "optional" }
            ];
            
            // Update field grid
            const fieldGrid = document.getElementById('fieldGrid');
            fieldGrid.innerHTML = '';
            
            fields.forEach(field => {
                const isEmpty = !field.value || field.value.trim() === '';
                const fieldItem = document.createElement('div');
                fieldItem.className = `field-item ${field.tier}${isEmpty ? ' empty' : ''}`;
                fieldItem.innerHTML = `
                    <div class="field-tier-label ${field.tier}">${field.tier.replace('-', ' ')}</div>
                    <div class="field-name">${field.name}</div>
                    <div class="field-value${isEmpty ? ' empty-value' : ''}">
                        ${isEmpty ? '(Not provided)' : field.value}
                    </div>
                `;
                fieldGrid.appendChild(fieldItem);
            });
            
            // Update source link
            if (entity.source) {
                document.getElementById('sourceLink').style.display = 'block';
                const sourceUrlElement = document.getElementById('sourceUrl');
                sourceUrlElement.href = entity.source;
                sourceUrlElement.textContent = entity.source;
            } else {
                document.getElementById('sourceLink').style.display = 'none';
            }
            
            // Update active state in list
            populateEntityList();
        }
        
        function navigateEntity(direction) {
            const newIndex = currentEntityIndex + direction;
            if (newIndex >= 0 && newIndex < sampleEntities.length) {
                showEntity(newIndex);
            }
        }
        
        function filterEntities(searchTerm) {
            const items = document.querySelectorAll('.entity-list-item');
            const term = searchTerm.toLowerCase();
            
            items.forEach((item, index) => {
                const entity = sampleEntities[index];
                const matchesSearch = 
                    entity.podcastName.toLowerCase().includes(term) ||
                    entity.episodeTitle.toLowerCase().includes(term) ||
                    entity.participants.toLowerCase().includes(term);
                
                item.style.display = matchesSearch ? 'block' : 'none';
            });
        }
        
        // Close modal on outside click
        document.getElementById('dataViewerModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDataViewer();
            }
        });
    
    </script>
    </div>
</body>
</html>